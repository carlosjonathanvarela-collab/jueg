<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finanzas360 - Gestor Financiero</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar de Navegación -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">F</div>
                <span class="logo-text">Finanzas360</span>
            </div>
            
            <nav class="nav-menu">
                <button class="nav-btn active" data-tab="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>Panel Principal</span>
                </button>
                <button class="nav-btn" data-tab="transactions">
                    <i class="fas fa-wallet"></i>
                    <span>Transacciones</span>
                </button>
                <button class="nav-btn" data-tab="health">
                    <i class="fas fa-heartbeat"></i>
                    <span>Salud Financiera</span>
                </button>
                <button class="nav-btn" data-tab="investments">
                    <i class="fas fa-trending-up"></i>
                    <span>Inversiones</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <div class="patrimonio-card">
                    <p>Patrimonio Neto</p>
                    <p class="patrimonio-value" id="patrimonio">$0</p>
                </div>
            </div>
        </aside>

        <!-- Área Principal -->
        <main class="main-content">
            <header class="header">
                <div>
                    <h1 id="page-title">Resumen General</h1>
                    <p class="subtitle">Gestiona tu camino hacia la libertad financiera.</p>
                </div>
                <div class="user-profile">
                    <div class="avatar">U</div>
                </div>
            </header>

            <!-- DASHBOARD TAB -->
            <section id="dashboard" class="tab-content active">
                <div class="cards-grid">
                    <div class="card">
                        <div class="card-content">
                            <p class="card-title">Saldo Total</p>
                            <h3 class="card-value" id="saldo">$0</h3>
                            <p class="card-subtext">Disponible para invertir/ahorrar</p>
                        </div>
                        <div class="card-icon wallet">
                            <i class="fas fa-wallet"></i>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-content">
                            <p class="card-title">Ingresos</p>
                            <h3 class="card-value" id="ingresos">$0</h3>
                        </div>
                        <div class="card-icon income">
                            <i class="fas fa-arrow-up"></i>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-content">
                            <p class="card-title">Gastos</p>
                            <h3 class="card-value" id="gastos">$0</h3>
                        </div>
                        <div class="card-icon expense">
                            <i class="fas fa-arrow-down"></i>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-content">
                            <p class="card-title">Tasa de Ahorro</p>
                            <h3 class="card-value" id="tasaAhorro">0%</h3>
                            <p class="card-subtext" id="tasaAhorroMsg">Intenta llegar al 20%</p>
                        </div>
                        <div class="card-icon target">
                            <i class="fas fa-bullseye"></i>
                        </div>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="card">
                        <h3 class="card-title"><i class="fas fa-pie-chart"></i> Distribución de Gastos</h3>
                        <div class="chart-container">
                            <canvas id="gastos-chart"></canvas>
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="card-title"><i class="fas fa-chart-bar"></i> Flujo de Caja</h3>
                        <div class="chart-container">
                            <canvas id="flujo-chart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- TRANSACTIONS TAB -->
            <section id="transactions" class="tab-content">
                <div class="transactions-grid">
                    <div class="card form-card">
                        <h3><i class="fas fa-plus-circle"></i> Nueva Transacción</h3>
                        <form id="transactionForm">
                            <div class="toggle-group">
                                <button type="button" class="toggle-btn active" data-type="gasto">Gasto</button>
                                <button type="button" class="toggle-btn" data-type="ingreso">Ingreso</button>
                            </div>

                            <div class="form-group">
                                <label>Monto</label>
                                <div class="input-with-icon">
                                    <span>$</span>
                                    <input type="number" id="monto" placeholder="0.00" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Descripción</label>
                                <input type="text" id="descripcion" placeholder="Ej. Supermercado, Salario..." required>
                            </div>

                            <div class="form-group" id="categoriaGroup">
                                <label>Categoría</label>
                                <select id="categoria">
                                    <option value="alimentacion">Alimentación</option>
                                    <option value="vivienda">Vivienda</option>
                                    <option value="transporte">Transporte</option>
                                    <option value="servicios">Servicios</option>
                                    <option value="entretenimiento">Entretenimiento</option>
                                    <option value="salud">Salud</option>
                                    <option value="educacion">Educación</option>
                                    <option value="deuda">Pago de Deuda</option>
                                    <option value="otros">Otros</option>
                                </select>
                            </div>

                            <button type="submit" class="btn btn-primary">Agregar Transacción</button>
                        </form>
                    </div>

                    <div class="card transactions-list">
                        <h3>Historial Reciente</h3>
                        <table id="transactionsTable">
                            <thead>
                                <tr>
                                    <th>Descripción</th>
                                    <th>Categoría</th>
                                    <th>Fecha</th>
                                    <th>Monto</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                        <p id="emptyMsg" class="empty-message">No hay transacciones registradas.</p>
                    </div>
                </div>
            </section>

            <!-- HEALTH TAB -->
            <section id="health" class="tab-content">
                <div class="health-header card">
                    <h2>Diagnóstico Financiero</h2>
                    <p>Basado en tus registros actuales, este es el estado de tu salud financiera.</p>
                </div>

                <div class="health-grid">
                    <div class="health-card">
                        <div class="health-header-card">
                            <h4>Tasa de Ahorro</h4>
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="health-value" id="healthSavingsRate">0%</div>
                        <p>De tus ingresos mensuales.</p>
                        <div class="health-footer">
                            <p id="healthSavingsMsg">Objetivo: Intenta llegar al 20%.</p>
                        </div>
                    </div>

                    <div class="health-card">
                        <div class="health-header-card">
                            <h4>Ratio de Deuda</h4>
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="health-value" id="healthDebtRatio">0%</div>
                        <p>De tus ingresos destinados a deuda.</p>
                        <div class="health-footer">
                            <p id="healthDebtMsg">Saludable. Mantienes tus deudas bajo control.</p>
                        </div>
                    </div>

                    <div class="health-card">
                        <div class="health-header-card">
                            <h4>Fondo Emergencia</h4>
                            <i class="fas fa-lock"></i>
                        </div>
                        <div class="health-value"><span id="healthEmergency">0</span> <small>meses</small></div>
                        <p>Cubiertos con tu saldo actual.</p>
                        <div class="health-footer">
                            <p>Se recomienda tener de 3 a 6 meses de gastos.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- INVESTMENTS TAB -->
            <section id="investments" class="tab-content">
                <div class="card">
                    <h3>Configura tu Perfil de Inversor</h3>
                    <div class="risk-profiles">
                        <button class="profile-btn" data-profile="conservador">
                            <span class="profile-name">Conservador</span>
                            <p class="profile-desc">Prioriza la preservación del capital.</p>
                            <div class="profile-allocations">
                                <span>RF: 70% | RV: 30%</span>
                            </div>
                        </button>
                        <button class="profile-btn active" data-profile="moderado">
                            <span class="profile-name">Moderado</span>
                            <p class="profile-desc">Balance entre seguridad y crecimiento.</p>
                            <div class="profile-allocations">
                                <span>RF: 50% | RV: 50%</span>
                            </div>
                        </button>
                        <button class="profile-btn" data-profile="agresivo">
                            <span class="profile-name">Agresivo</span>
                            <p class="profile-desc">Busca maximizar rendimientos.</p>
                            <div class="profile-allocations">
                                <span>RF: 30% | RV: 70%</span>
                            </div>
                        </button>
                    </div>
                </div>

                <div class="investment-grid">
                    <div class="card">
                        <h4>Composición del Portafolio</h4>
                        <div class="chart-container">
                            <canvas id="portfolio-chart"></canvas>
                        </div>
                        <div class="portfolio-info">
                            <p>Retorno Anual Estimado</p>
                            <p class="return-rate" id="returnRate">8%</p>
                        </div>
                    </div>

                    <div class="card">
                        <h4>Proyección de Patrimonio (20 años)</h4>
                        <p class="chart-subtitle">Proyección basada en ahorro mensual constante invertido mensualmente.</p>
                        <div class="chart-container">
                            <canvas id="projection-chart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/data.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/app.js"></script>
</body>
</html>